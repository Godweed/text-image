!function(){function t(t){for(var e in t)this.style[e]=t[e];return this._style="",this._style+="color: "+this.style.color+";",this._style+="font: "+this.style.size+"pt "+this.style.font+";",this._style+="line-height: "+this.style.size+"pt;",this._style+=r,this}function e(){return l.toDataURL()}function i(t,e){n.call(this,t);var i=new Image;return e&&(i.onload=e),i.src=l.toDataURL(),i}function n(t){t=t.trim(),s.innerHTML=t,s.setAttribute("style",this._style),a.clearRect(0,0,l.width,l.height),l.width=s.offsetWidth,l.height=s.offsetHeight,a.font=s.style.font,a.fillStyle=s.style.color;var e=t.split("\n");if(1==e.length)a.fillText(t,0,l.height-3);else{var i=s.offsetHeight/e.length;e.forEach(function(t,e){a.fillText(t,0,i*(e+1)-3)})}}function o(){document.body.appendChild(s)}var s=document.createElement("pre"),l=document.createElement("canvas"),a=l.getContext("2d"),h={color:"#000000",size:16,font:"Sans-serif"},r=";padding: 0; display: inline-block; position: fixed; top: 100%;";window.addEventListener?window.addEventListener("load",o,!1):window.attachEvent("onload",o,!1),window.TextImage=function(n){var o={style:h,setStyle:t,toDataURL:e,toImage:i};return o.setStyle(n),o}}();